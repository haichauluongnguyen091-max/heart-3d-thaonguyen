<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="utf-8">
  <title>Trái tim 3D - Thảo Nguyên</title>
  <style>
    html,body{margin:0;height:100%;background:#111;overflow:hidden}
    #c{width:100%;height:100%}
  </style>
</head>
<body>
<canvas id="c"></canvas>
<script src="https://cdn.jsdelivr.net/npm/three@0.158.0/build/three.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/three@0.158.0/examples/js/controls/OrbitControls.js"></script>
<script>
const renderer=new THREE.WebGLRenderer({canvas:c,antialias:true});
const scene=new THREE.Scene();
const camera=new THREE.PerspectiveCamera(45,innerWidth/innerHeight,0.1,100);
camera.position.set(0,1.6,4);
const controls=new THREE.OrbitControls(camera,renderer.domElement);
scene.add(new THREE.HemisphereLight(0xffffff,0x222233,1));
scene.add(Object.assign(new THREE.DirectionalLight(0xffcce6,0.8),{position:new THREE.Vector3(5,10,5)}));

function textTexture(t){const s=512,cv=document.createElement("canvas"),ctx=cv.getContext("2d");
cv.width=cv.height=s;ctx.font="36px sans-serif";ctx.fillStyle="rgba(255,180,220,.95)";
for(let y=0;y<s;y+=60)for(let x=0;x<s;x+=140)ctx.fillText(t,x,y);
return new THREE.CanvasTexture(cv);}
const tex=textTexture("Thảo Nguyên");
tex.wrapS=tex.wrapT=THREE.RepeatWrapping;tex.repeat.set(3,3);

const heart=new THREE.Shape();
heart.moveTo(0,-1);
heart.bezierCurveTo(0.6,-1.6,2,-1,0,0.8);
heart.bezierCurveTo(-2,-1,-0.6,-1.6,0,-1);
const geo=new THREE.ExtrudeGeometry(heart,{depth:.6,bevelEnabled:true,bevelSize:.08,bevelThickness:.06});
geo.center();
const mat=new THREE.MeshPhongMaterial({map:tex,shininess:60});
const mesh=new THREE.Mesh(geo,mat);
scene.add(mesh);

function resize(){
renderer.setSize(innerWidth,innerHeight);
camera.aspect=innerWidth/innerHeight;camera.updateProjectionMatrix();}
window.onresize=resize;resize();

function animate(t){requestAnimationFrame(animate);
mesh.scale.setScalar(1+Math.sin(t/300)*.03);
mesh.rotation.y+=.003;
controls.update();renderer.render(scene,camera);}
animate();
</script>
</body>
</html>
